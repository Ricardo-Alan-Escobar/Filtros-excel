<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ferreteria</title>
    <link rel="icon" href="../img/logo-mav.jpg" type="image/x-icon">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    
    <header class="hero">
         <nav class="menu">
            <ul>
                <li><a href="./index.html">Ferreteria</a></li>
                <li><a href="../Electronica/index.html">Electronica</a></li>
                <li><a href="../Filtro%20Llamadas%20Telefonicas/Index.html">Filtro Telefonico</a></li>
            </ul>
        </nav> 
        <img src="../img/icono.png" alt="" width="350px">  
        <h1><i class="fa-solid fa-screwdriver-wrench"></i> Ferreteria</h1>
        <p>Sube tu archivo Excel y filtra los datos</p>
    </header>
    
    <div class="container-1">  
        <img src="../img/logo-ferr.jpg" class="logo" alt="logo" width="80">
        <label for="fileInput" class="file-upload-label">
            Seleccionar archivo <i class="fa-solid fa-file-arrow-up"></i>
            <input type="file" id="fileInput" accept=".xlsx">
        </label>
       <span id="fileName" class="file-name"></span>
       <div class="secciones"> 
         <!-- Menú desplegable para filtrar por tipo -->
    <label for="tipoFiltro">Filtrar por Tipo:</label>
    <select id="tipoFiltro">
        <option value="Todos">Todos</option>
        <option value="Factura">Factura</option>
        <option value="Traslado">Traslado</option>
        <option value="NotaCredito">Nota de Crédito</option>
    </select>
    <label for="cfdiFilter">Filtrar por CFDI:</label>
    <select id="cfdiFilter">
        <option value="">Todos</option>
        <option value="CP01">CP01</option>
        <option value="G01 - Adquisición de mercancias">G01</option>
        <option value="G02 - Devoluciones, descuentos o bonificaciones">G02</option>
        <option value="G03 - Gastos en general">G03</option>
        <option value="I01 - Construcciones">I01</option>
        <option value="I02 - Mobilario y equipo de oficina por inversiones">I02</option>
        <option value="I03 - Equipo de transporte">I03</option>
        <option value="I04 - Equipo de computo y accesorios">I04</option>
        <option value="I08 - Otra maquinaria y equipo">I08</option>
        <option value="P01 - Por definir">P01</option>
        <option value="S01">S01</option>
    </select>
</div>
        <button id="filterButton" class="btn"><i class="fa-solid fa-filter"></i> Filtrar Datos</button>
    </div>

    <section class="data-section">
        <table id="dataTable">
            <thead>
                <tr>
                    <th>RFC Emisor</th>
                    <th>Nombre Emisor</th>
                    <th>Factura</th>
                    <th>CFDI</th>
                    <th>Concepto</th>
                    <th>Costo</th>
                    <th>Acción</th> 
                </tr>
            </thead>
            <tbody>
                <!-- Datos filtrados aparecerán aquí -->
            </tbody>
        </table>
       
        <div class="data-section">
            <!-- El botón de descarga será añadido aquí dinámicamente -->
        </div>
        <button id="scrollButton"><i class="fas fa-arrow-down"></i></button>
    </section>
    <script>
        const scrollButton = document.getElementById('scrollButton');

        scrollButton.addEventListener('click', function() {
            if (window.scrollY + window.innerHeight >= document.body.scrollHeight) {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            } else {
                window.scrollTo({
                    top: document.body.scrollHeight,
                    behavior: 'smooth'
                });
            }
        });

        window.addEventListener('scroll', function() {
            if (window.scrollY + window.innerHeight >= document.body.scrollHeight) {
                scrollButton.innerHTML = '<i class="fas fa-arrow-up"></i>';
            } else {
                scrollButton.innerHTML = '<i class="fas fa-arrow-down"></i>';
            }
        });
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.17.4/xlsx.full.min.js"></script>
    <script src="./script.js"></script>
</body>
</html>
